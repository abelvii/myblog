---
title: JavaScript私有属性来了~
date: 2018-10-19 16:05:15
categories: 技术
tags: JavaScript
---
在一周前 TC39在Github上通过了一条ECMAScript语法特性的草案.内容主要是class的私有属性修饰符'#',
但是该特性在之前的调研中遭遇了大量的反对.
<!--more-->
这个私有属性的修饰符使用方式:
```JavaScript
class test {
    #test = 0;
    get #test(){
        return ++this.#test;
    }
}
```
很多人反对此提案的原因是:

1.'#'是css中的id选择器,在js中使用'#'会降低代码可读性.

有一些道理,毕竟原生的querySelector方法会使用'#',不过其实还好,个人觉得不会降低多少可读性= =

2.在部分语言中'#'是注释,可能会引起混乱.

我觉得这个应该是一部分原因吧,这个才是降低了可读性,特别是不是很熟悉新特性的同学来读会有一些不舒服.

3.ts中已经实现了private属性,修饰符就是private,如果标准使用'#'会造成认知负担.

这个应该也是一部分主要原因,原本ts是js的超集,更新了后会增加一些工作量,而且在ts和js之间切换也不是很舒服了...

个人觉得这个提案的原因是:

最近看了一些框架的源码,有很多都是'\_','$'作为前缀的变量.如果用了很多同学支持的'\_'作为修饰符,
那么新版本的JavaScript就会导致有很多很多的服务需要更新.

就算自己的代码里面没有用到下划线,但是总会有一些依赖的库里面使用了下划线,而且有很多npm包贡献很多的大牛,
每个人有可能有几十甚至上百上千个包,依赖这些包的项目更是不计其数,一旦更新,说不定会有50%以上的服务都不能用了...

所以,综上:懒就是想要使用'#'的原因(手动滑稽)
