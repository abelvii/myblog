<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="zetdasUhSP" />

  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://abelvii.github.io">
  <title>Abel(魏丞)的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="重庆邮电大学学渣，喜欢前端。">
<meta name="keywords" content="数据挖掘,前端,js,jquery,javascript,html5,开发者,程序猿,程序媛,极客,编程,代码,开源,IT网站,Developer,Programmer,Coder,Geek,html,css,css3,用户体验">
<meta property="og:type" content="website">
<meta property="og:title" content="Abel(魏丞)的博客">
<meta property="og:url" content="http://abelvii.github.io/index.html">
<meta property="og:site_name" content="Abel(魏丞)的博客">
<meta property="og:description" content="重庆邮电大学学渣，喜欢前端。">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Abel(魏丞)的博客">
<meta name="twitter:description" content="重庆邮电大学学渣，喜欢前端。">
    <link rel="alternative" href="/atom.xml" title="Abel(魏丞)的博客" type="application/atom+xml">
    <link rel="icon" href="/favicon.png">
  <link rel="stylesheet" type="text/css" href="/./main.4dd110.css">
  <style type="text/css">
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
    #loading{
      position:absolute;
      display:none;
      top:0;
      left:0;
      right:0;
      bottom:0;
      z-index:99999;
      background-color:rgba(255,255,255,0.9);
    }
    #loading h1{
      height:100%;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .button{
        padding:3px 15px;
        border-radius:5px;
        background-color:#4d4d4d;
        color:white;
        border:none;
        margin-right:10px;
        float:right;
    }
    .newpost{
        margin-top:-23px;
    }
    #managepost div{
        padding:5px 0;
    }
    #managepost div p,
    #managepost div button{
        display:inline-block;
        vertical-align:top;
    }
  </style>
</head>
<body>
<div id="loading"><h1>loading...</h1></div>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
        <header id="header" class="inner">
                <a href="/" class="profilepic">
                        <img src="/img/me.jpg" class="js-avatar">
                </a>
                <hgroup>
                  <h1 class="header-author"><a href="/">Abel</a></h1>
                </hgroup>
                <p class="header-subtitle">金鳞岂是池中物，一遇风云便化龙</p>
                <nav class="header-menu">
                        <ul>
                                <li><a href="/">主页</a></li>
                                <li><a href="/categories/技术/">技术</a></li>
                                <li><a href="/categories/杂记/">杂记</a></li>
                        </ul>
                </nav>
                <nav class="header-smart-menu">
                <nav class="header-nav">
                </nav>
        </header>
</div>
    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
<nav id="mobile-nav">
        <div class="overlay js-overlay" style="background: #4d4d4d"></div>
        <div class="btnctn js-mobile-btnctn">
                <div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
        </div>
        <div class="intrude-less">
                <header id="header" class="inner">
                        <div class="profilepic">
                                <img src="/img/me.jpg" class="js-avatar">
                        </div>
                        <hgroup>
                          <h1 class="header-author js-header-author">Abel</h1>
                        </hgroup>
                        <p class="header-subtitle"><i class="icon icon-quo-left"></i>金鳞岂是池中物，一遇风云便化龙<i class="icon icon-quo-right"></i></p>
                        <nav class="header-nav">
                                <div class="social">
                                                <a class="github" target="_blank" href="https://www.github.com/abelvii" title="github"><i class="icon-github"></i></a>
                                                <a class="weibo" target="_blank" href="http://weibo.com/u/5601962801" title="weibo"><i class="icon-weibo"></i></a>
                                                <a class="mail" target="_blank" href="mailto:673162780@qq.com" title="mail"><i class="icon-mail"></i></a>
                                </div>
                        </nav>
                        <nav class="header-menu js-header-menu">
                                <ul style="width: 70%">
                                        <li style="width: 33.333333333333336%"><a href="/">主页</a></li>
                                        <li style="width: 33.333333333333336%"><a href="/categories/技术/">技术</a></li>
                                        <li style="width: 33.333333333333336%"><a href="/categories/杂记/">杂记</a></li>
                                </ul>
                        </nav>
                </header>
        </div>
        <div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>
      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
    <article id="文章管理" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    <header class="article-header">
    <h1 itemprop="name">
        <p>文章管理</p>
    </h1>
    <button class="editor button newpost">新建</button>   
    </header>
    </div>
    <div id="managepost" class="article-entry"></div>
    </article>
    <div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
        <div class="footer-left">
                &copy; 2018 Abel|<a href="http://www.miitbeian.gov.cn ">黑ICP备17001007号</a>
        </div>
        <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
        </div>
    </div>
  </div>
</footer>
    </div>
<script>
var orion = {
    id:/#/,
    classN:/\./,
    ajax:function(url,method,data,fn,setheader){
        var xmlhttp=null;
        if (window.XMLHttpRequest) {// code for all new browsers
            xmlhttp=new XMLHttpRequest();
        }
        else if (window.ActiveXObject) {// code for IE5 and IE6
            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
        if (xmlhttp!=null) {
            xmlhttp.onreadystatechange=state_Change;
            xmlhttp.open(method,url,true);
            if(setheader)
                setheader(xmlhttp);
            xmlhttp.send(data);
        }
        else {
            alert("Your browser does not support XMLHTTP.");
        }
        function state_Change() {
            if (xmlhttp.readyState==4) {// 4 = "loaded"
                if (xmlhttp.status==200) {// 200 = OK
                    fn(xmlhttp.responseText);
                }
                else {
                    alert("Problem retrieving XML data");
                }
            }
        }
    },
    getED:function(str){
        var index;
        if(this.id.test(str)){
            index = str.indexOf("#");
            return document.getElementById(str.substr(index+1,str.length));
        }else if(this.classN.test(str)){
            index = str.indexOf(".");
            if(index>0){
                var tagn = document.getElementsByTagName(str.substr(0,index));
                return tagn.getElementsByClassName(str.substr(index+1,str.length));
            }else{
                return document.getElementsByClassName(str.substr(1,str.length));
            }
        }
    }
};
Element.prototype.addListener = function(str,fn,boolean){
    if(isNaN(parseInt(this.length))) {
        if(this.addEventListener){
            this.addEventListener(str,fn,boolean||false);
        }else{
            this.attachEvent(str,fn);
        }
    }else if(this.length > 0){
        this.forEach(function(that){
            if(this.addEventListener){
                that.addEventListener(str,fn,boolean||false);
            }else{
                that.attachEvent(str,fn);
            }
        })
    }
};
var indexEl = orion.getED("#managepost");
orion.ajax("/article_list", "GET", "", function(res){
    var data = JSON.parse(res);
    refreshList(indexEl,(function(data){
        var f = document.createDocumentFragment(),
        i = 0,
        len = data.title.length,
        el, btn1, btn2, div;
        for(;i < len;i++){
            div = document.createElement("div");
            el = document.createElement("p");
            btn1 = document.createElement("button");
            btn2 = document.createElement("button");
            el.innerHTML = data.title[i];
            btn1.className = data.title[i].replace(/ /g, "-")+" editor btn_editor button";
            btn2.className = data.title[i].replace(/ /g, "-")+" detele btn_delete button";
            btn1.innerHTML = "编辑";
            btn2.innerHTML = "删除";
            div.appendChild(el);
            div.appendChild(btn1);
            div.appendChild(btn2);
            f.appendChild(div);
        }
        return f;
    })(data));
})
indexEl.addListener("click", function(e) {
    if (e.target.className.indexOf("delete") > -1) {
        var data = "filename="+e.target.className.split(" ")[0]+".md";
        showLoading();
        orion.ajax("/delete_post", "POST", data, function(res){
            var data = JSON.parse(res)
            if (data.errcode !== 0){
                alert(data.errMessage);
            }
            location.reload();
        })
    } else if (e.target.className.indexOf("editor") > -1) {
        var filename = e.target.className.split(" ")[0]+".md";
        self.location = "/editor?filename="+filename;
    }
});
orion.getED(".newpost")[0].addListener("click", function(){
    location.href = "/editor";
})
function refreshList(el,fragment){
    el.innerHTML="";
    el.appendChild(fragment)
}
function showLoading(){
    document.getElementById("loading").style.display = "block";
}
function unshowLoading(){
    document.getElementById("loading").style.display = "none";
}
</script>
